<script src="./underscore.js"></script>
<script src="./cth-sortwords.js"></script>

<link rel="import" href="./cth-switchlight.html">

<polymer-element name="cth-sortwords" attributes="text blacklist">

  <template>
    <cth-switchlight checked="{{censored}}"></cth-switchlight>
    <label class="word-frequency">
      minWordFrequency <input class="min" value="{{minValue}}" type="number"></input>
    </label>
    <label class="word-frequency">
      maxWordFrequency <input class="max" value="{{maxValue}}" type="number"></input>
    </label>
    <template repeat="{{ word in words}}">
      <p>{{ word.text }} - {{ word.size }}</p>
    </template>
  </template>

  <script>
    Polymer('cth-sortwords', {
      minValue: 2,
      maxValue: 5,
      censored: false,
      config: function(){
        return {
          minValue: this.minValue,
          maxValue: this.maxValue,
          text: this.text,
          blacklist: this.blacklist,
          censored: this.censored
        };
      },
      countWords: function(){
       this.words = cth.wordTools.sortWords(this.config());
      },
      textChanged: function(){
        this.countWords();
      },
      minValueChanged: function() {
        this.countWords();
      },
      maxValueChanged: function() {
        this.countWords();
      },
      censoredChanged: function() {
        this.countWords();
      }
    });
  </script>

</polymer-element>
